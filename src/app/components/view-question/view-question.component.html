<div class="container" [ngStyle]="{'background-color': user && user.darkMode ? 'black' : 'white'} ">

    <div class="navbar " [ngClass]="user && user.darkMode ? 'commonDiv darkBorder' : 'lightMode lightBorder' " >
        <div class="head-search" id="head-search-viewq">
            <div>
                <a [routerLink]="['/']" style="text-decoration: none;">
                    <h2 class="header" id="mobile-header">JDI</h2>
                    <h2 class="header">JustDoIt</h2>
                </a>
            </div>
            <div class="home-ic" [ngStyle]="{'color': user && user.darkMode ? 'white' : 'black' }">
                <a [routerLink]="['/']" style="text-decoration: none;" class="viewq-link">
                    <mat-icon>home</mat-icon>
                </a>
            </div>
        </div>

        <div class="viewq-input-container " [ngClass]="user && user.darkMode ? 'commonDiv' : 'lightMode' " >
            <input type="search"  name="searchTerm" class="input" [ngClass]="user && user.darkMode ? 'input-dark' : 'input-light' " 
             placeholder=" Search  JustdoIt"/>
        </div>

     <div class="enter-links" >

         <p class="signup-para" *ngIf="!token">
            <a [routerLink]="['/account']">Signup</a>
         </p>
     </div>

    </div>

    <div class="viewq-left" [ngClass]="user && user.darkMode ? 'commonDiv leftBorderDark' : 'lightMode leftBorderLight' ">

    </div>
    <div class="viewq-middle" [ngClass]="user && user.darkMode ? 'commonDiv' : 'lightMode' ">

        <div class="loadingQuestions" *ngIf="isLoading">
            <div class="circle" id="circle1"></div>
            <div class="circle" id="circle2"></div>
            <div class="circle" id="circle3"></div>
        </div>

        <ng-container *ngIf="length  > 0">
            <div class="question">
                <div class="asked-by">
                    <div class="left">
                        <img src="{{question.askedBy.avatar}}" alt="{{question.askedBy.username}}" class="askedBy-img">
                        <strong class="askedBy-username"  
                        [ngStyle]="user && user.darkMode ? {color:'white'} : {color:'black'}">{{question.askedBy.username}} 
                            <em *ngIf="question.askedBy.isPro" style="color: dodgerblue;">Pro</em> </strong> 
                    </div>
                    
                </div>
                <div class="question-container">
                      <p class="question-body" >
                          <strong>{{question.question}}</strong></p>                    
                </div>
                 
                <ng-container *ngIf="length2 > 0">
                    <div class="answers" *ngFor="let answer of answers; index as i">
                        <strong style="color: dodgerblue; padding-left: 10px;">Answer {{i+1}}</strong>
                        <div class="answer">
                           <p class="answer-para" [ngStyle]="user && user.darkMode ? {color:'white'} : {color:'black'}">{{answer.answer}}</p>
                           <div class="answer-images"  *ngFor="let answerImages of answer.images">
                            <img src="{{answerImages}}" alt="{{question.askedBy.username}}" class="answer-img">
                        </div>
                        <div class="votes-add-answers">
                            <div class="icon-1 ico-container">
                                <mat-icon class="arrow_upward" >arrow_upward</mat-icon> 
                                <span class="word"><strong>{{answer.upVotes}}</strong>  Votes</span>
                            </div>
                            <div class="icon-2 ico-container">
                                <mat-icon class="arrow_downward">arrow_downward</mat-icon> 
                                <span class="word"> <strong>{{answer.downVotes}}</strong> Rejects</span>
                            </div>
                            <div class="btn-answer-cont">
                            </div>
                        </div>
                        </div>
                    </div>
                </ng-container>
                <div  *ngIf="length2 <= 0 && !isLoading" [ngStyle]="{'background-color': user && user.darkMode ? 'black' : 'white'}">
                    <p style="padding-left: 10px;" [ngStyle]="{'color': user && user.darkMode ? 'white' : 'black'}">
                        This question doesn't currently have answers </p>
                </div>
            
            </div>

            <div class="loadingQuestions" *ngIf="isLoading2">
                <div class="circle" id="circle1"></div>
                <div class="circle" id="circle2"></div>
                <div class="circle" id="circle3"></div>
            </div>
            <div class="relatedQuestions">
                <div class="question" *ngFor="let question of questions">
                    <div class="asked-by">
                        <div class="left">
                            <img src="{{question.askedBy.avatar}}" alt="{{question.askedBy.username}}" class="askedBy-img">
                            <strong class="askedBy-username" [ngStyle]="user && user.darkMode ? {color:'white'} : {color:'black'}">
                                {{question.askedBy.username}} 
                                <em *ngIf="question.askedBy.isPro" style="color: dodgerblue;">Pro</em> </strong> 
                        </div>
                        
                    </div>
                    <div class="question-container">
                        <a [routerLink]="['/questionAnswers',question._id]"  target="_blank">
                          <p class="question-body" >
                              <strong>{{question.question}}</strong></p>
                       </a>
                        <div class="images"  *ngFor="let image of question.images">
                            <img src="{{image}}" alt="{{question.askedBy.username}}" class="question-img">
                        </div>
                        
                    </div>
                    <div class="answers" *ngIf="question.answertoshow">
                        <div class="answer" >
                           <p class="answer-para" [ngStyle]="user && user.darkMode ? {color:'white'} : {color:'black'}">
                            {{question.answertoshow.answer}}</p>
                           <div class="answer-images"  *ngFor="let answerImages of question.answertoshow.images">
                            <img src="{{answerImages}}" alt="{{question.askedBy.username}}" class="answer-img">
                        </div>
                        <div class="votes-add-answers">
                            <div class="icon-1 ico-container">
                                <mat-icon class="arrow_upward">arrow_upward</mat-icon> 
                                <span class="word"><strong>{{question.answertoshow.upVotes}}</strong>  Likes</span>
                            </div>
                            <div class="icon-2 ico-container">
                                <mat-icon class="arrow_downward" >arrow_downward</mat-icon> 
                                <span class="word"> <strong>{{question.answertoshow.downVotes}}</strong> Dislikes</span>
                            </div>
                            <div class="btn-answer-cont">
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>

        </ng-container>
        <div class="no-question" *ngIf="length <= 0 && !isLoading" [ngStyle]="{'background-color': user && user.darkMode ? 'black' : 'white'}">
            <p class="no-question-para" [ngStyle]="{'color': user && user.darkMode ? 'white' : 'black'}">This question doesn't exist on our platform </p>
        </div>
    </div>
    <div class="viewq-right" [ngClass]="user && user.darkMode ? 'commonDiv rightBorderDark' : 'lightMode rightBorderLight' ">
        <div class="add-images">
            <h2 style="padding-left: 10px;" [ngStyle]="{'color': user.darkMode ? 'white' : 'black' }"><em>TRENDING WEB APPS</em> </h2>
            <div class="img-1">
                <a href="https://mbonera.live" target="_blank">
                 <img [src]="user && user.darkMode ? mboneraDarkImg : mboneraLightImg" alt="mbonera add">
                </a>
            </div>
            <div class="img-2">
                <a href="https://bookinga.netlify.app" target="_blank">
                 <img [src]="user && user.darkMode ? codeamaDarkImg : codeamaLightImg" alt="codeama add">
                </a>
            </div>
        </div>
    </div>
</div>